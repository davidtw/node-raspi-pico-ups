{"version":3,"sources":["pico.es6"],"names":["module","exports","i2c","require","address","wire","device","powerModes","readBytes","start","length","Promise","resolve","err","res","currentPowerMode","currentBatteryVoltage","currentRpiVoltage"],"mappings":";;AAAAA,OAAOC,OAAP,GAAkB,YAAY;AAC1B,QAAMC,MAAMC,QAAQ,KAAR,CAAZ;AACA,QAAMC,UAAU,IAAhB;AACA,QAAMC,OAAO,IAAIH,GAAJ,CAAQE,OAAR,EAAiB,EAACE,QAAQ,YAAT,EAAjB,CAAb;;AAEA,QAAMC,aAAa,CAAC,SAAD,EAAY,KAAZ,CAAnB;;AAEA,aAASC,SAAT,CAAmBC,KAAnB,EAA0BC,MAA1B,EAAkC;AAC9B,eAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC5BP,iBAAKG,SAAL,CAAeC,KAAf,EAAsBC,MAAtB,EAA8B,UAAUG,GAAV,EAAeC,GAAf,EAAoB;AAC9CF,wBAAQE,IAAI,CAAJ,CAAR;AACH,aAFD;AAGH,SAJM,CAAP;AAKH;;AAED,WAAO;AACH,YAAIP,UAAJ,GAAiB;AACb,mBAAOA,UAAP;AACH,SAHE;AAIH,YAAIQ,gBAAJ,GAAuB;AACnB,mBAAOP,UAAU,CAAV,EAAa,CAAb,CAAP;AACH,SANE;AAOH,YAAIQ,qBAAJ,GAA4B;AACxB,mBAAOR,UAAU,CAAV,EAAa,CAAb,CAAP;AACH,SATE;AAUH,YAAIS,iBAAJ,GAAwB;AACpB,mBAAOT,UAAU,CAAV,EAAa,CAAb,CAAP;AACH;AAZE,KAAP;AAcH,CA7BiB,EAAlB","file":"pico.js","sourcesContent":["module.exports = (function () {\r\n    const i2c = require('i2c');\r\n    const address = 0x69;\r\n    const wire = new i2c(address, {device: '/dev/i2c-1'});\r\n\r\n    const powerModes = ['battery', 'usb'];\r\n\r\n    function readBytes(start, length) {\r\n        return new Promise((resolve) => {\r\n            wire.readBytes(start, length, function (err, res) {\r\n                resolve(res[0]);\r\n            });\r\n        });\r\n    }\r\n\r\n    return {\r\n        get powerModes() {\r\n            return powerModes;\r\n        },\r\n        get currentPowerMode() {\r\n            return readBytes(0, 1);\r\n        },\r\n        get currentBatteryVoltage() {\r\n            return readBytes(1, 2);\r\n        },\r\n        get currentRpiVoltage() {\r\n            return readBytes(3, 2);\r\n        }\r\n    };\r\n}());"]}