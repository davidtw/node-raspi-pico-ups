{"version":3,"sources":["pico.es6"],"names":["module","exports","i2c","require","i2c1","openSync","address","powerModes","readBytes","command","readByteSync","getPowerModeLabel","mode","length","undefined","getCurrentPowerMode","getCurrentBatteryVoltage","getCurrentRpiVoltage","getTemperature"],"mappings":";;AAAAA,OAAOC,OAAP,GAAkB,YAAY;AAC1B,QAAMC,MAAMC,QAAQ,SAAR,CAAZ;AACA,QAAMC,OAAOF,IAAIG,QAAJ,CAAa,CAAb,CAAb;AACA,QAAMC,UAAU,IAAhB;;AAEA,QAAMC,aAAa,CAAC,SAAD,EAAY,KAAZ,CAAnB;;AAEA,aAASC,SAAT,CAAmBC,OAAnB,EAA4B;AACxB,eAAOL,KAAKM,YAAL,CAAkBJ,OAAlB,EAA2BG,OAA3B,CAAP;AACH;;AAED,WAAO;AACHE,yBADG,6BACgBC,IADhB,EACsB;AACrB,gBAAI,CAACA,IAAD,IAAUA,OAAO,CAAR,GAAaL,WAAWM,MAArC,EAA6C;AACzC,uBAAOC,SAAP;AACH;AACD,mBAAOP,WAAWK,OAAO,CAAlB,CAAP;AACH,SANE;;AAOHG,6BAAqB,+BAAM;AACvB,mBAAOP,UAAU,IAAV,CAAP;AACH,SATE;AAUHQ,kCAA0B,oCAAM;AAC5B,mBAAOR,UAAU,IAAV,CAAP;AACH,SAZE;AAaHS,8BAAsB,gCAAM;AACxB,mBAAOT,UAAU,IAAV,CAAP;AACH,SAfE;AAgBHU,wBAAgB,0BAAM;AAClB,mBAAOV,UAAU,IAAV,CAAP;AACH;AAlBE,KAAP;AAoBH,CA/BiB,EAAlB","file":"pico.js","sourcesContent":["module.exports = (function () {\r\n    const i2c = require('i2c-bus');\r\n    const i2c1 = i2c.openSync(1);\r\n    const address = 0x69;\r\n\r\n    const powerModes = ['battery', 'usb'];\r\n\r\n    function readBytes(command) {\r\n        return i2c1.readByteSync(address, command);\r\n    }\r\n\r\n    return {\r\n        getPowerModeLabel (mode) {\r\n            if (!mode || (mode + 1) > powerModes.length) {\r\n                return undefined;\r\n            }\r\n            return powerModes[mode + 1];\r\n        },\r\n        getCurrentPowerMode: () => {\r\n            return readBytes(0x00);\r\n        },\r\n        getCurrentBatteryVoltage: () => {\r\n            return readBytes(0x08);\r\n        },\r\n        getCurrentRpiVoltage: () => {\r\n            return readBytes(0x0a);\r\n        },\r\n        getTemperature: () => {\r\n            return readBytes(0x1b);\r\n        }\r\n    };\r\n}());"]}